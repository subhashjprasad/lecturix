import matplotlib.pyplot as plt
import matplotlib.animation as animation
import numpy as np

# Data for user ratings
users = ['User 1', 'User 2', 'User 3', 'User 4', 'User 5']
items = ['Item A', 'Item B', 'Item C', 'Item D', 'Item E']
ratings = np.array([[5, 3, 2, 1, 4],
                   [4, 5, 1, 3, 2],
                   [2, 1, 4, 5, 3],
                   [3, 2, 5, 4, 1],
                   [1, 4, 3, 2, 5]])

# Create a figure and axes
fig, ax = plt.subplots(figsize=(8, 6))
ax.set_title('Recommendation System: User-Item Ratings')
ax.set_xlabel('Items')
ax.set_ylabel('Users')

# Create a heatmap of ratings
heatmap = ax.imshow(ratings, cmap='viridis', interpolation='nearest')
ax.set_xticks(np.arange(len(items)))
ax.set_yticks(np.arange(len(users)))
ax.set_xticklabels(items)
ax.set_yticklabels(users)

# Add colorbar
cbar = fig.colorbar(heatmap)
cbar.set_label('Rating')

# Function to update the plot
def update(frame):
    # Highlight a random user's ratings
    user_index = np.random.randint(len(users))
    heatmap.set_data(ratings)
    for i in range(len(items)):
        if ratings[user_index, i] > 3:
            heatmap.set_data(ratings)
            ax.text(i, user_index, str(ratings[user_index, i]), ha='center', va='center', color='white')    
    return heatmap,

# Create the animation
ani = animation.FuncAnimation(fig, update, frames=10, interval=500, blit=True)

plt.show()